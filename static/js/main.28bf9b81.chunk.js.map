{"version":3,"sources":["server/data.js","Components/Basket/BasketMain.js","Components/Basket/BasketIcon.js","Components/Basket.js","Components/ProductList.js","App.js","serviceWorker.js","index.js"],"names":["data","id","name","label","price","BasketMain","props","goToBasket","toggle","basket","removeFromBasket","number","console","log","react_default","a","createElement","className","onClick","map","el","key","length","reduce","sum","BasketIcon","Fragment","Basket","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","_this$props","Basket_BasketIcon","Basket_BasketMain","React","Component","ProductList","addToBasket","App","setState","prevState","found","find","item","localStorage","setItem","JSON","stringify","newBasket","concat","indexOf","splice","storage","parse","getItem","_this$state","Components_Basket","Components_ProductList","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.28bf9b81.chunk.js","sourcesContent":["const data = [\n    {\n        \"id\": 1,\n        \"name\": \"article 1\",\n        \"label\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n        \"price\": 25\n    },\n\n    {\n        \"id\": 2,\n        \"name\": \"article 2\",\n        \"label\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n        \"price\": 35\n    },\n\n    {\n        \"id\": 3,\n        \"name\": \"article 3\",\n        \"label\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n        \"price\": 45\n    }]\n\nexport default data;","import React from 'react';\n\nfunction BasketMain (props) {\n    let { goToBasket, toggle, basket, removeFromBasket, number } = props;\n    console.log(number)\n    return (\n        <div className=\"basket-main\">\n           \n            {toggle ? null \n            : <div className=\"return\">\n                    <button onClick={() => {goToBasket()}}> \n                        Return \n                    </button>  \n                </div>\n            }\n          \n     \n            {toggle\n                ? null\n                :<ul className=\"products\"> {basket.map(el => (\n                    <li key ={el.id} className=\"product__item\">\n                        <h3 className=\"product__name\"> Name: {el.name}</h3>\n                        <p className=\"product__lable\"> Description: {el.label}</p>\n                        <div className=\"product__price\">\n                            <p className=\"product__price\"> Price: {el.price}</p>\n                            <p className=\"product__number\"> Number: {el.number}</p>\n                            <button onClick={()=> {removeFromBasket(el)}} className=\"product__btn\">Remove</button>\n                        </div>\n                    </li>\n                     ))}\n                     </ul>}\n\n            {toggle || basket.length ? null: <h2 className=\"basket-empty\">Basket is Empty :(</h2>}      \n            {!toggle && basket.length\n            ?<div className=\"sum_price\">\n                <p className=\"sum_price__text\">\n                    Total: \n                    {' ' + basket.reduce((sum, el) => {\n                        return sum + (el.price * el.number);\n                    }, 0 )}\n                </p>\n                <button className=\"sum_price__btn\">Buy</button>\n            </div> \n            : null\n            }\n    </div>\n\n    )\n}\n\nexport default BasketMain;","import React from 'react';\n\nfunction BasketIcon (props) {\n    let { basket, toggle, goToBasket} = props;\n    return (\n       <>\n            {toggle ?\n                <>\n                <div className=\"basket-icon\">\n                    <h2 className=\"col-lg-4\">Basket</h2>\n                    <button onClick={() => {goToBasket()}}\n                            className=\"basket__icon col-lg-2 ml-auto\">\n                        <div className=\"icon-basket\">\n                            <span className=\"counter\"> \n                                {basket.reduce((sum, el) => {\n                                    return sum + el.number;\n                                    }, 0 )}\n                            </span>\n                        </div> \n                    </button>\n                    </div>\n                </>\n                : null}\n\n        </>\n    )\n}\n\nexport default BasketIcon;","import React from 'react';\nimport BasketMain from './Basket/BasketMain';\nimport BasketIcon from './Basket/BasketIcon';\n\nclass Basket extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n           \n        }\n    }\n\n    render() {\n        let { basket, toggle, goToBasket, removeFromBasket, number } = this.props;\n        \n      \n         return(\n             <section className=\"basket\">\n                 <div className=\"container\">\n                 <BasketIcon \n                    basket={basket} \n                    toggle={toggle} \n                    goToBasket={goToBasket}\n                 />\n                <BasketMain \n                    basket={basket}\n                    number={number}\n                    toggle={toggle}\n                    goToBasket={goToBasket}\n                    removeFromBasket={removeFromBasket}\n                 />\n                 </div>\n             </section>\n            \n\n\n         \n        )}\n   \n}\n\nexport default Basket;","import React from 'react';\n\nfunction ProductList(props) {\n    let { data, addToBasket } = props;\n       \n    return(\n        <section className=\"product-list\">\n            <div className=\"container\">\n                <ul className=\"products\">\n                    {data.map(el => (\n                    <li key ={el.id} className=\"product__item\">\n                    <h3 className=\"product__name\">Name: {el.name}</h3>\n                    <p className=\"product__lable\"> Description: {el.label}</p>\n                    <p className=\"product__price\"> Price: {el.price} \n                     <button onClick={()=> {addToBasket(el)}} className=\"product__btn\">Add</button></p>\n                   \n                    </li>\n                    ))}\n                </ul>\n            </div>\n        </section>\n\n\n    )\n}\n\nexport default ProductList;","import React from 'react';\nimport data from './server/data';\nimport Basket from './Components/Basket';\nimport ProductList from './Components/ProductList';\nimport './css/App.css';\n\nclass App extends React.Component {\n  constructor(){\n    super()\n\n    this.state = {\n      basket: [],\n      number: 0,\n      toggle: true\n    }\n  }\n\n  componentDidMount() {\n    const storage = JSON.parse(localStorage.getItem('basket'));\n    this.setState({ basket: storage })\n  }\n\n\n\n  addToBasket = (el) => {\n    this.setState(prevState => {\n\n      let { basket } = prevState; \n      \n      let found  = basket.find(item => item.id === el.id)\n\n      if( !found ){\n        el.number = 1;\n        let newBasket =  basket.concat(el);\n        localStorage.setItem(\"basket\", JSON.stringify(newBasket))\n        return {\n          basket: newBasket,\n          number: el.number\n        }    \n      }else{\n        found.number++;\n        localStorage.setItem(\"basket\", JSON.stringify(basket))\n        return { \n            number: el.number, \n                              };\n      }\n    })\n  }\n\n  removeFromBasket  = (el) => {\n    this.setState(prevState => {\n      let { basket } = prevState; \n      if( basket.indexOf(el) === -1 ){\n        return;\n      }\n\n      if(el.number > 1 ){\n        el.number--;\n        localStorage.setItem(\"basket\", JSON.stringify(basket))\n        return { number: el.number };\n\n      }\n\n       basket.splice(basket.indexOf(el), 1);\n       el.number = 0;\n       localStorage.setItem(\"basket\", JSON.stringify(basket))\n      return {\n        number: el.number,\n        basket: basket\n      } \n    })\n  }\n\n  goToBasket = () => {\n    this.setState(prevState => (\n       {toggle: !prevState.toggle} \n    ))\n}\n\n  render(){\n      let { basket, toggle, number } = this.state;\n     \n  \n    return (\n      <main className=\"App\">\n        <Basket \n          number={number}\n          data={data}\n          basket={basket}\n          toggle={toggle}\n          goToBasket={this.goToBasket}\n          removeFromBasket={this.removeFromBasket}\n        />\n        {toggle \n        ? <ProductList \n            data={data} \n            addToBasket={this.addToBasket}\n         />\n         : null }\n      </main>\n    );\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}